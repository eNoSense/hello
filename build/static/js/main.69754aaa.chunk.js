(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(36)},25:function(e,n,t){},27:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(17),s=t.n(i),r=(t(25),t(4)),l=t(5),c=t(3),u=t.n(c),m=(t(27),t(6)),p=t(7),h=t(9),g=t(8),d=t(10),f=function(e){function n(e){var t;return Object(m.a)(this,n),(t=Object(h.a)(this,Object(g.a)(n).call(this,e))).state={sign_in_form:{nickname:"",password:""}},t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"onSignInFromValueChange",value:function(e,n){var t=e.target.value,a=JSON.parse(JSON.stringify(this.state));a.sign_in_form[n]=t,this.setState(a)}},{key:"login",value:function(){var e=this,n=this.state.sign_in_form,t=n.nickname,a=n.password;t&&a||alert("\u8868\u5355\u4fe1\u606f\u6ca1\u6709\u586b\u5199\u5b8c\u6574"),u.a.User.logIn(t,a).then(function(n){console.log(n),e.setState({current_user:n}),e.props.history.push("/index")},function(e){alert(JSON.stringify(e))})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"sign_up"},o.a.createElement("h1",null,"\u7528\u6237\u767b\u5f55"),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onSignInFromValueChange(n,"nickname")},value:this.state.sign_in_form.email,className:"middle",type:"text",placeholder:"\u7528\u6237\u540d"})," "),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onSignInFromValueChange(n,"password")},value:this.state.sign_in_form.password,className:"middle",type:"password",placeholder:"\u5bc6\u7801"})," "),o.a.createElement("p",null,o.a.createElement("input",{onClick:function(){e.login()},className:"middle-button",type:"submit",value:"\u767b\u5f55"}),o.a.createElement(r.b,{to:"/signup"},"\u53bb\u6ce8\u518c >> "))))}}]),n}(a.Component),v=Object(l.f)(f),E=function(e){function n(e){var t;return Object(m.a)(this,n),(t=Object(h.a)(this,Object(g.a)(n).call(this,e))).state={sign_up_form:{nickname:"",email:"",password:"",confirm_password:""}},t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"onValueChange",value:function(e,n){var t=e.target.value,a=JSON.parse(JSON.stringify(this.state));a.sign_up_form[n]=t,this.setState(a)}},{key:"onSubmitSignUpForm",value:function(){var e=this,n=this.state.sign_up_form,t=n.nickname,a=n.email,o=n.password,i=n.confirm_password;a&&o&&i&&t||alert("\u6ce8\u518c\u4fe1\u606f\u4e0d\u80fd\u4e3a\u7a7a\uff01"),o!==i&&alert("\u4e24\u6b21\u5bc6\u7801\u586b\u5199\u4e0d\u4e00\u81f4\uff01");var s=new u.a.User;s.setUsername(t),s.setEmail(a),s.setPassword(o),s.signUp().then(function(n){console.log("loginedUser"),console.log(n),e.props.history.push("/index")},function(e){alert(JSON.stringify(e))})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"sign_up"},o.a.createElement("h1",null,"\u7528\u6237\u6ce8\u518c"),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onValueChange(n,"nickname")},value:this.state.sign_up_form.nickname,className:"middle",type:"text",placeholder:"\u6635\u79f0"})," "),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onValueChange(n,"email")},value:this.state.sign_up_form.email,className:"middle",type:"text",placeholder:"Email"})," "),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onValueChange(n,"password")},value:this.state.sign_up_form.password,className:"middle",type:"password",placeholder:"\u5bc6\u7801"})," "),o.a.createElement("p",null," ",o.a.createElement("input",{onChange:function(n){e.onValueChange(n,"confirm_password")},value:this.state.sign_up_form.confirm_password,className:"middle",type:"password",placeholder:"\u91cd\u590d\u5bc6\u7801"})," "),o.a.createElement("p",null," ",o.a.createElement("input",{onClick:function(){e.onSubmitSignUpForm()},className:"middle-button",type:"submit",value:"\u6ce8\u518c"})," ")))}}]),n}(a.Component),_=Object(l.f)(E),b=function(e){function n(){return Object(m.a)(this,n),Object(h.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){u.a.User.current()||this.props.history.push("/signin"),this.setState({current_user:u.a.User.current()})}},{key:"logout",value:function(){var e=this;console.log("this",this.state),u.a.User.logOut().then(function(n){e.props.history.push("/signin"),console.log("logout response"),console.log(n),console.log("this2",e.state),e.setState({current_user:null})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},"\u6211\u662f\u4e3b\u9875",o.a.createElement("span",{className:"aWithoutHref",onClick:function(){e.logout()}},"\u767b\u51fa"))}}]),n}(a.Component),w=Object(l.f)(b);var y=function(){return console.log("init app"),u.a.init({appId:"FYCTcKYDOcOsKw2vnRmNvBwQ-gzGzoHsz",appKey:"BVDwbxfu4n7ziAUpuEDnf2z3"}),o.a.createElement("div",{className:"App"},o.a.createElement(r.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/",render:function(){return o.a.createElement(l.a,{to:"/signin"})}}),o.a.createElement(l.b,{path:"/signin",component:v}),o.a.createElement(l.b,{path:"/signup",component:_}),o.a.createElement(l.b,{path:"/index",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.69754aaa.chunk.js.map